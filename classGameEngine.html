<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Tower Defence 2: GameEngine Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Tower Defence 2
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classGameEngine-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">GameEngine Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="engine_8h_source.html">engine.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac091518b8fa68696c483be11483a9b6c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac091518b8fa68696c483be11483a9b6c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>GameEngine</b> (double time, double timestep, int score, <a class="el" href="classGameLevel.html">GameLevel</a> &amp;game_level, GameMap &amp;<a class="el" href="classGameEngine.html#a1d6302d4bc0cfac2ae258e5cda7a3c7a">game_map</a>)</td></tr>
<tr class="separator:ac091518b8fa68696c483be11483a9b6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0294bed66ba41d7726b41087a4e8f106"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0294bed66ba41d7726b41087a4e8f106"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>time</b> () const </td></tr>
<tr class="separator:a0294bed66ba41d7726b41087a4e8f106"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a000419269f3821150f35aad77adc0771"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a000419269f3821150f35aad77adc0771"></a>
const double&#160;</td><td class="memItemRight" valign="bottom"><b>timestep</b> () const </td></tr>
<tr class="separator:a000419269f3821150f35aad77adc0771"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b207d1ae5081a6f8fa96937a0488f91"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2b207d1ae5081a6f8fa96937a0488f91"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>score</b> () const </td></tr>
<tr class="separator:a2b207d1ae5081a6f8fa96937a0488f91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe650efbacec62a11a88dbeb31d109cb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afe650efbacec62a11a88dbeb31d109cb"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>money</b> () const </td></tr>
<tr class="separator:afe650efbacec62a11a88dbeb31d109cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaa151fc275437f28d8af749d7369852"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acaa151fc275437f28d8af749d7369852"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>lives</b> () const </td></tr>
<tr class="separator:acaa151fc275437f28d8af749d7369852"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3544aa5e0d1c61d09c03b3282fc1f568"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3544aa5e0d1c61d09c03b3282fc1f568"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameEngine.html#a3544aa5e0d1c61d09c03b3282fc1f568">change_game_speed</a> (GameSpeed new_speed)</td></tr>
<tr class="memdesc:a3544aa5e0d1c61d09c03b3282fc1f568"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the game speed to fast or normal. <br /></td></tr>
<tr class="separator:a3544aa5e0d1c61d09c03b3282fc1f568"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0faecdff83a98072906b0193656aaf2d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0faecdff83a98072906b0193656aaf2d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameEngine.html#a0faecdff83a98072906b0193656aaf2d">increment_time</a> ()</td></tr>
<tr class="memdesc:a0faecdff83a98072906b0193656aaf2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increments the game time by one timestep. <br /></td></tr>
<tr class="separator:a0faecdff83a98072906b0193656aaf2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d070a6457167ad6065a50cc95960972"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1d070a6457167ad6065a50cc95960972"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameEngine.html#a1d070a6457167ad6065a50cc95960972">add_score</a> (int amount)</td></tr>
<tr class="memdesc:a1d070a6457167ad6065a50cc95960972"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change player's score. Game score can't go below zero. <br /></td></tr>
<tr class="separator:a1d070a6457167ad6065a50cc95960972"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ed18fa0c47d897ab058358a98262310"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameEngine.html#a3ed18fa0c47d897ab058358a98262310">add_money</a> (int amount)</td></tr>
<tr class="separator:a3ed18fa0c47d897ab058358a98262310"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12ab6cbf03734d841e16d60001faa651"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameEngine.html#a12ab6cbf03734d841e16d60001faa651">reduce_life</a> ()</td></tr>
<tr class="separator:a12ab6cbf03734d841e16d60001faa651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42f285426df131fd45bda39d963b5eae"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a42f285426df131fd45bda39d963b5eae"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameEngine.html#a42f285426df131fd45bda39d963b5eae">upgrade_tower</a> (int x, int y, int index)</td></tr>
<tr class="memdesc:a42f285426df131fd45bda39d963b5eae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Upgrade existing tower into new one. <br /></td></tr>
<tr class="separator:a42f285426df131fd45bda39d963b5eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ca6a435e01dd07d46c5f7564d93938b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8ca6a435e01dd07d46c5f7564d93938b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameEngine.html#a8ca6a435e01dd07d46c5f7564d93938b">change_targeting</a> (TargetingPolicy new_policy)</td></tr>
<tr class="memdesc:a8ca6a435e01dd07d46c5f7564d93938b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change targeting policy of all towers. <br /></td></tr>
<tr class="separator:a8ca6a435e01dd07d46c5f7564d93938b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad348e560a5656dc87d94340210c928c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aad348e560a5656dc87d94340210c928c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameEngine.html#aad348e560a5656dc87d94340210c928c">add_enemy</a> (<a class="el" href="classEnemy.html">Enemy</a> *enemy)</td></tr>
<tr class="memdesc:aad348e560a5656dc87d94340210c928c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add new enemy to game map. <br /></td></tr>
<tr class="separator:aad348e560a5656dc87d94340210c928c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb77ffe1b9d6d532591737e1735109a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameEngine.html#adb77ffe1b9d6d532591737e1735109a4">advance_game_level</a> ()</td></tr>
<tr class="separator:adb77ffe1b9d6d532591737e1735109a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa812e78a8906c213ab0e895a8e641efc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameEngine.html#aa812e78a8906c213ab0e895a8e641efc">enemy_movement</a> ()</td></tr>
<tr class="separator:aa812e78a8906c213ab0e895a8e641efc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a636759b9fc1cd8e8e411209332760b57"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classEnemy.html">Enemy</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameEngine.html#a636759b9fc1cd8e8e411209332760b57">find_targets</a> (<a class="el" href="classTower.html">Tower</a> *tower, Enemies &amp;enemies)</td></tr>
<tr class="separator:a636759b9fc1cd8e8e411209332760b57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf95b665cc996189331c653857977fc5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameEngine.html#acf95b665cc996189331c653857977fc5">towers_attack</a> (graphicsEngine &amp;gE)</td></tr>
<tr class="separator:acf95b665cc996189331c653857977fc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a702058cd783939018ceab449fdd0f2e1"><td class="memItemLeft" align="right" valign="top">GameState&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameEngine.html#a702058cd783939018ceab449fdd0f2e1">update</a> (graphicsEngine &amp;gE)</td></tr>
<tr class="separator:a702058cd783939018ceab449fdd0f2e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d6302d4bc0cfac2ae258e5cda7a3c7a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1d6302d4bc0cfac2ae258e5cda7a3c7a"></a>
GameMap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameEngine.html#a1d6302d4bc0cfac2ae258e5cda7a3c7a">game_map</a> ()</td></tr>
<tr class="memdesc:a1d6302d4bc0cfac2ae258e5cda7a3c7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter for game map. <br /></td></tr>
<tr class="separator:a1d6302d4bc0cfac2ae258e5cda7a3c7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:acce900c37f358d918b83e456cc3368aa"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameEngine.html#acce900c37f358d918b83e456cc3368aa">update_high_score</a> (const std::string &amp;filename, <a class="el" href="classGameEngine.html">GameEngine</a> engine)</td></tr>
<tr class="separator:acce900c37f358d918b83e456cc3368aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Game class contains the game map, enemies, towers and game stats. This class is also responsible for the implementation of the main game loop which modifies the properties of the objects by using the rules of the game logic. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a3ed18fa0c47d897ab058358a98262310"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GameEngine::add_money </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>amount</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Change player's money. </p><dl class="section return"><dt>Returns</dt><dd>false and doesn't change the value if the amount of change would reduce player's money below zero otherwise true and changes the money based on the amount given. </dd></dl>

</div>
</div>
<a class="anchor" id="adb77ffe1b9d6d532591737e1735109a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameEngine::advance_game_level </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Handles level specific tasks such as spawning new enemies according to the game level description. </p>

</div>
</div>
<a class="anchor" id="aa812e78a8906c213ab0e895a8e641efc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameEngine::enemy_movement </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Move enemies along the path.</p><ul>
<li>If enemy reaches the end of the path<ul>
<li>Remove enemy from the game</li>
<li>Reduce players score</li>
<li>Reduce one life from player </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a636759b9fc1cd8e8e411209332760b57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classEnemy.html">Enemy</a> * GameEngine::find_targets </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTower.html">Tower</a> *&#160;</td>
          <td class="paramname"><em>tower</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Enemies &amp;&#160;</td>
          <td class="paramname"><em>enemies</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Other combat objects that this object can target.</p><ul>
<li>withing the attack range</li>
<li>targeting policy </li>
</ul>

</div>
</div>
<a class="anchor" id="a12ab6cbf03734d841e16d60001faa651"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameEngine::reduce_life </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reduce one life from the player. Player dies if lives reach zero. </p><dl class="section return"><dt>Returns</dt><dd>true if player dies else false. </dd></dl>

</div>
</div>
<a class="anchor" id="acf95b665cc996189331c653857977fc5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameEngine::towers_attack </td>
          <td>(</td>
          <td class="paramtype">graphicsEngine &amp;&#160;</td>
          <td class="paramname"><em>gE</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Towers attack enemies. Increase score and money if enemies die and remove dead enemies from the game. </p>

</div>
</div>
<a class="anchor" id="a702058cd783939018ceab449fdd0f2e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GameState GameEngine::update </td>
          <td>(</td>
          <td class="paramtype">graphicsEngine &amp;&#160;</td>
          <td class="paramname"><em>gE</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the game loop. In practice this method will be called by the main graphics loop. </p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="acce900c37f358d918b83e456cc3368aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool update_high_score </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classGameEngine.html">GameEngine</a>&#160;</td>
          <td class="paramname"><em>engine</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Updates high score if needed, takes the name of the file where high scores are kept Returns true if high scores were changed High scores are visible on the menu screen </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="engine_8h_source.html">engine.h</a></li>
<li>src/engine.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
